CREATE TABLE Pessoa(
 Cpf VARCHAR(11),
 Email VARCHAR(50) UNIQUE NOT NULL,
 Rg VARCHAR(10) NOT NULL,
 DataNascimento DATE NOT NULL,
 Nome VARCHAR(100) NOT NULL,
 Rua VARCHAR(100),
 Bairro VARCHAR(100) NOT NULL,
 Cidade VARCHAR(50)NOT NULL,
 PRIMARY KEY(CPF)
);

CREATE TABLE Cliente (
 Cpf VARCHAR(11),
 PRIMARY KEY(CPF),
 FOREIGN KEY(CPF) REFERENCES PESSOA(CPF)
);

CREATE TABLE Funcionario(
 Cpf VARCHAR(11),
 Salario REAL NOT NULL DEFAULT 900,
 Cargo VARCHAR(30) NOT NULL,
 Matricula VARCHAR(6) NOT NULL,
 CodDepartamento INT,
 PRIMARY KEY(CPF)
);
CREATE TABLE Departamento(
 Codigo INT,
 Nome VARCHAR(30) NOT NULL UNIQUE,
 CpfGerente VARCHAR(11),
 PRIMARY KEY(Codigo)
);

ALTER TABLE FUNCIONARIO ADD CONSTRAINT codDep_fk
FOREIGN KEY(CodDepartamento) REFERENCES Departamento(Codigo);

ALTER TABLE DEPARTAMENTO ADD CONSTRAINT cpfGerente_fk
FOREIGN KEY(CpfGerente) REFERENCES FUNCIONARIO(CPF);

CREATE TABLE PessoaTelefone(
 Cpf VARCHAR(11),
 Telefone VARCHAR(11),
 PRIMARY KEY(Cpf , Telefone)
);

CREATE TABLE PONTO(
 Codigo INT,
 Data DATE NOT NULL,
 HoraSaida TIME NOT NULL,
 HoraEntrada TIME NOT NULL,
 CpfFuncionario VARCHAR(11),
 PRIMARY KEY(Codigo),
 FOREIGN KEY(CpfFuncionario) REFERENCES FUNCIONARIO(cpf)
);

CREATE TABLE Estoque(
 QuantTotal INT,
 ID INT,
 PRIMARY KEY(ID)
);

CREATE TABLE PecaAcessorio(
 IDEstoque INT,
 NomeProduto VARCHAR(30) NOT NULL,
 Codigo INT,
 Garantia INT,
 Valor REAL NOT NULL,
 AnoAno VARCHAR(9) NOT NULL,
 ModeloVeiculo VARCHAR(20) NOT NULL,
 NomeVeiculo VARCHAR(20) NOT NULL,
 PRIMARY KEY(Codigo),
 FOREIGN KEY(IDEstoque) REFERENCES Estoque(ID)
);